<!DOCTYPE html>
<html>
<head>
  <title>Run 30 Times</title>
</head>

<body>
<button onclick="runNTimes(10)">Start</button>
<script>
  function randomBetween(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }
  async function openRandom() {
    const res = await fetch("list.txt");
    const text = await res.text();
    const words = text
      .split("\n")
      .map(w => w.trim())
      .filter(Boolean);
    const word = words[Math.floor(Math.random() * words.length)];
    const url = `https://www.bing.com/search?q=${encodeURIComponent(word)}`;
    const win = window.open(url, "_blank");
    const closeDelay = randomBetween(3000, 6000);
    setTimeout(() => {
      if (win) win.close();
    }, closeDelay);
  }

  async function runNTimes(n) {
    for (let i = 0; i < n; i++) {
      await openRandom();
      // wait random 3â€“6 sec before next open
      await new Promise(resolve =>
        setTimeout(resolve, randomBetween(3000, 6000))
      );
    }
  }
</script>
</body>
</html>
